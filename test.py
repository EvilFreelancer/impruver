import yaml
import fire
from transformers import AutoTokenizer


def test(config_path: str):
    with open(config_path, "r") as r:
        config = yaml.safe_load(r)
    tokenizer = AutoTokenizer.from_pretrained(config['tokenizer']['name'])

    input_ids = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 74, 1239, 5025, 67, 71, 1959, 203, 95, 6, 82, 2475, 10757, 458, 71, 565, 39989, 1899, 67, 72, 14470, 3677, 527, 67, 6799, 3278, 903, 458, 6855, 39240, 10757, 19685, 6, 514, 1095, 5293, 67, 6799, 3278, 10757, 11777, 16, 458, 72, 14470, 3677, 67, 3292, 12325, 3104, 10757, 1533, 16, 458, 88, 7156, 67, 32253, 10757, 1061, 97, 97, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 3144, 1407, 2186, 203, 630, 2499, 413, 7870, 7072, 24408, 343, 1011, 8886, 24863, 289, 21807, 14481, 1488, 8042, 4662, 18, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 3144, 1407, 2186, 203, 6014, 420, 3325, 16, 515, 417, 16, 428, 459, 732, 16, 322, 9191, 3775, 10285, 26621, 8266, 16, 2388, 428, 25033, 25241, 18, 3379, 4128, 2048, 481, 27297, 18, 2]
    output = tokenizer.decode(input_ids)
    print(output)


if __name__ == "__main__":
    fire.Fire(test)
