import yaml
import fire
from transformers import AutoTokenizer


def test(config_path: str):
    with open(config_path, "r") as r:
        config = yaml.safe_load(r)
    tokenizer = AutoTokenizer.from_pretrained(config['tokenizer']['name'])

    input_ids = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 18, 2, 203, 1, 3144, 1407, 2186, 203, 7494, 2433, 39861, 4760, 1442, 55, 18689, 16, 3482, 1352, 6656, 7018, 16, 961, 48505, 687, 282, 25999, 2725, 14395, 30, 203, 68, 68, 68, 78, 6988, 203, 95, 203, 458, 675, 10148, 448, 10757, 2994, 203, 19685, 203, 458, 21016, 461, 67, 82, 2475, 10757, 458, 7128, 388, 13708, 10926, 903, 203, 458, 11611, 8986, 6865, 67, 82, 2475, 10757, 458, 7128, 13766, 13708, 10926, 903, 203, 458, 4423, 8437, 2863, 67, 72, 18079, 38612, 10757, 458, 24705, 12434, 16, 7573, 549, 1217, 2022, 4290, 477, 11615, 17, 33610, 1406, 9493, 1685, 16, 19307, 3133, 304, 289, 22223, 2581, 6117, 309, 5503, 289, 12115, 18, 903, 203, 458, 72, 8906, 10757, 458, 789, 4571, 15550, 448, 16, 4400, 802, 34136, 16, 38097, 289, 5474, 4455, 18, 903, 203, 458, 27336, 561, 532, 67, 22826, 4219, 13162, 10757, 458, 14102, 3390, 1004, 305, 3882, 897, 14485, 289, 2865, 431, 267, 897, 14485, 2223, 32969, 16, 6895, 29789, 16, 28089, 289, 2161, 1736, 318, 4796, 203, 225, 97, 16, 203, 19685, 203, 458, 21016, 461, 67, 82, 2475, 10757, 458, 1182, 42348, 903, 203, 458, 11611, 8986, 6865, 67, 82, 2475, 10757, 458, 58, 1297, 84, 573, 14690, 444, 19970, 903, 203, 458, 4423, 8437, 2863, 67, 72, 18079, 38612, 10757, 458, 24705, 12434, 515, 3412, 49792, 613, 281, 4004, 758, 13506, 37896, 289, 9493, 1685, 2934, 16902, 5244, 18, 903, 203, 458, 72, 8906, 10757, 458, 6039, 15550, 318, 16, 4400, 802, 15117, 2435, 16, 49056, 2535, 16, 4866, 2855, 289, 10629, 2389, 18, 903, 203, 458, 27336, 561, 532, 67, 22826, 4219, 13162, 10757, 458, 14102, 3390, 1004, 305, 3882, 897, 14485, 289, 2865, 431, 267, 897, 14485, 2223, 32969, 16, 6895, 25534, 448, 10947, 318, 16, 39810, 7855, 29789, 289, 17312, 1157, 4796, 203, 225, 97, 16, 203, 19685, 203, 458, 21016, 461, 67, 82, 2475, 10757, 458, 563, 9853, 778, 336, 1994, 9180, 903, 203, 458, 11611, 8986, 6865, 67, 82, 2475, 10757, 458, 37, 71, 410, 10819, 92, 3698, 2014, 48327, 1547, 9938, 77, 903, 203, 458, 4423, 8437, 2863, 67, 72, 18079, 38612, 10757, 458, 40747, 16, 7573, 451, 4620, 281, 17330, 1406, 9493, 1685, 16, 22223, 36414, 289, 4004, 758, 20954, 309, 1948, 476, 18, 903, 203, 458, 72, 8906, 10757, 458, 672, 435, 299, 15550, 318, 16, 4400, 802, 6577, 416, 37930, 16, 6895, 1217, 2022, 412, 16, 6146, 1275, 289, 13998, 18, 903, 203, 458, 27336, 561, 532, 67, 22826, 4219, 13162, 10757, 458, 14102, 3390, 1004, 305, 28643, 13024, 281, 20213, 2914, 19528, 16, 6895, 29789, 16, 2161, 1736, 318, 289, 6092, 486, 4796, 203, 225, 97, 16, 203, 19685, 203, 458, 21016, 461, 67, 82, 2475, 10757, 458, 563, 9853, 778, 38742, 22183, 355, 903, 203, 458, 11611, 8986, 6865, 67, 82, 2475, 10757, 458, 39, 532, 1366, 1112, 4423, 550, 951, 838, 8322, 71, 6407, 903, 203, 458, 4423, 8437, 2863, 67, 72, 18079, 38612, 10757, 458, 24705, 9852, 31056, 879, 22183, 355, 281, 19977, 8100, 289, 7573, 536, 11261, 18, 903, 203, 458, 72, 8906, 10757, 458, 6039, 15550, 318, 16, 4400, 802, 15302, 15117, 2435, 289, 2914, 4869, 18, 903, 203, 458, 27336, 561, 532, 67, 22826, 4219, 13162, 10757, 458, 14102, 3390, 1004, 305, 3882, 897, 14485, 289, 2865, 431, 267, 897, 14485, 2223, 32969, 16, 6895, 25534, 448, 10947, 318, 289, 39810, 7855, 29789, 4796, 203, 225, 97, 16, 203, 19685, 203, 458, 21016, 461, 67, 82, 2475, 10757, 458, 563, 9853, 1162, 24130, 3407, 10828, 30582, 903, 203, 458, 11611, 8986, 6865, 67, 82, 2475, 10757, 458, 3127, 665, 285, 592, 665, 285, 903, 203, 458, 4423, 8437, 2863, 67, 72, 18079, 38612, 10757, 458, 24705, 12434, 18934, 8568, 30883, 281, 4004, 758, 941, 16948, 1195, 8864, 21019, 289, 37468, 46182, 11261, 2934, 16902, 5244, 18, 903, 203, 458, 72, 8906, 10757, 458, 672, 435, 299, 15550, 318, 16, 4400, 802, 30758, 49056, 2535, 16, 37017, 312, 2855, 289, 4778, 11631, 2608, 18, 903, 203, 458, 27336, 561, 532, 67, 22826, 4219, 13162, 10757, 458, 14102, 3390, 1004, 305, 3882, 897, 14485, 289, 2865, 431, 267, 897, 14485, 2223, 32969, 16, 6895, 25534, 448, 10947, 318, 16, 39810, 7855, 29789, 289, 17312, 1157, 4796, 203, 225, 97, 203, 28239, 203, 97, 203, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 289, 31221, 4484, 979, 35, 2, 203, 1, 3144, 1407, 2186, 203, 18229, 5, 1789, 5101, 539, 11125, 510, 481, 7940, 33454, 34166, 16, 1029, 15123, 6947, 2257, 11461, 16, 753, 4751, 7173, 536, 1440, 395, 2678, 478, 348, 819, 506, 470, 309, 4760, 749, 1008, 434, 45196, 18, 817, 33087, 13605, 24165, 20741, 3536, 289, 48006, 16, 6895, 11125, 281, 30421, 473, 24333, 4461, 12287, 484, 309, 3043, 7069, 11879, 2244, 934, 11125, 749, 13380, 473, 24333, 4461, 2879, 8664, 2666, 25814, 617, 282, 10832, 482, 7069, 4760, 13, 289, 11125, 281, 19337, 3021, 473, 24333, 4461, 12287, 484, 6929, 1196, 289, 31906, 814, 376, 262, 35958, 3412, 6384, 549, 6807, 360, 13258, 10026, 814, 203, 203, 1009, 1392, 368, 647, 11125, 510, 481, 43145, 5642, 434, 8202, 16, 1586, 10787, 282, 965, 11125, 47327, 1420, 1368, 432, 16695, 281, 14986, 4999, 353, 18, 4794, 5324, 699, 40084, 6025, 334, 23071, 12798, 9790, 289, 1698, 19821, 541, 2567, 9722, 16, 428, 22107, 2235, 32358, 16, 36481, 37916, 6780, 289, 19233, 288, 8180, 18, 26444, 368, 647, 11125, 2438, 2805, 36986, 282, 4101, 3142, 4426, 9332, 277, 282, 1767, 20792, 5418, 3521, 5122, 289, 3443, 45968, 7658, 9187, 291, 4760, 541, 8202, 1967, 13542, 18, 203, 203, 684, 762, 390, 4538, 16, 29147, 11125, 510, 481, 17190, 3149, 294, 7446, 20741, 3536, 5642, 434, 8202, 16, 45391, 309, 1269, 45913, 2596, 1420, 1368, 432, 13636, 16, 1655, 428, 5642, 539, 11125, 510, 481, 1033, 30736, 6391, 16, 25537, 19382, 5502, 15606, 8202, 33898, 1440, 47283, 309, 5137, 4760, 18, 2]
    output = tokenizer.decode(input_ids)
    print(output)


if __name__ == "__main__":
    fire.Fire(test)
